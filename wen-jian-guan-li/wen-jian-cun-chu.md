# 文件存储
## 物理结构
- <codepub>连续文件</codepub>：把一个逻辑上连续的文件信息存放在连续编号的物理块
- <codepub>链接文件</codepub>：把一个逻辑上连续的文件分散存放在不同的物理块中，这些物理块不要求连续，也不必规则排列
- <codepub>索引文件</codepub>：文件里保存了一个索引表，由该表指向存储的地址
- <codepub>多重索引文件</codepub>：**UNIX/Linux采用多重索引文件结构**
  - 这种方法具有一般索引文件的优点，但也存在着间接索引需要多次访盘而影响速度的缺点。
    @import "./.src/pic/imageN.png"

## <codepub>逻辑结构</codepub>
  - 无结构文件：文件内部不再划分记录，是由一组相关信息组成的有序字符流，即**流式文件**。
  - 纪录式文件：逻辑上可被看成一组连续记录的集合，即文件是由若干相关记录组成，且对每个记录编上号码（有定长变长之分）

## 存取方法
- 顺序存取方法（有定长变长之分）
- 随机存取方法
- 索引表组织方式（通常是大型文件）

# 存储空间管理

## <codepub>空闲空间表法</codepub>
通过记录空闲位置和偏移来明确空闲空间
  - 优点：回收、调整较为明朗，适合存放连续文件
  - 缺点：容易产生碎片，小文件多的时候效率低

|index|空闲块号|空闲个数|解释|
|--|--|--|--|
|1|2|4|=2,3,4,5|
|2|10|5|=10,11,12,13,14|

## <codepub>空闲块链表</codepub>
串联一系列空闲块，类似链表，易于实现但效率较低

## <codepub>位图法</codepub>
- <codepub>占用位示图，利用0表示空闲，1表示占用，如0011100表示第2~4位有占用</codepub>
- 通常使用占用位示表，也有些OS使用空闲位示图用1来表示空闲

<codepub>空闲块成组链接法</codepub>
![](/.src/pic/imageQ.png)

# 文件操作

主要的目录操作
  - 查找
  - 建立文件
  - 删除文件
  - 列出目录内容
  - 备份